server:
    port: 8080
spring:
    application.name: pos-merchant
    profiles:
        active: @spring.profiles.active@
    datasource:
        host: @database.host@
        db-name: @database.name@
        url: jdbc:p6spy:mysql://${spring.datasource.host}:3306/${spring.datasource.db-name}?allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC
        username: @database.username@
        password: @database.password@
        driver-class-name: com.p6spy.engine.spy.P6SpyDriver
    jpa:
        hibernate:
            ddl-auto: none
        #hibernate 打印的sql不是最终执行的 sql 需要借助 p6spy
        show-sql: true
        properties:
            hibernate:
                format_sql: true
                dialect: org.hibernate.dialect.MySQL8Dialect
                time-zone: UTC
                hbm2ddl:
                    auto: none
    jackson:
        time-zone: UTC
        date-format: yyyy-MM-dd'T'HH:mm:ss.SSS'Z'
    data:
        redis:
            host: @redis.host@
            port: @redis.port@

logging:
    level:
        root: info
        p6spy: debug
    file:
        path: ./logs
    logback:
        rollingpolicy:
            max-file-size: 10MB
            max-history: 30
            clean-history-on-start: true

# Sa-Token 配置
sa-token:
    token-name: pos-merchant-token # Token 名称 会自动添加到响应头中 存入cookie中
    timeout: 2592000 # Token 超时时间（秒）- 30天
    is-log: true